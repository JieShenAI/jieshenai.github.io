<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> Hidden yourself until New God appear!</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="Hidden yourself until New God appear!" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/JieShenAI/jieshenai.github.io"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Hidden yourself until New God appear!</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['凡人皆有一死', '人唯有恐惧之时方能勇敢', ''],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-hexo设置"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/other/hexo%E8%AE%BE%E7%BD%AE/"
    >hexo设置</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/other/hexo%E8%AE%BE%E7%BD%AE/" class="article-date">
  <time datetime="2022-10-14T08:11:19.000Z" itemprop="datePublished">2022-10-14</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/other/">other</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="hexo设置"><a href="#hexo设置" class="headerlink" title="hexo设置"></a>hexo设置</h1><p>typora编写的md文档，其中的图片会存放到 <code>文件同名.asset</code>文件夹下，编译成网页后，图片未显示出来；解决方案: 参考<a target="_blank" rel="noopener" href="https://blog.51cto.com/u_15477117/4919656">blog</a></p>
<p>我采取的解决方案</p>
<p><code>_config.yml</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure>

<p>post_asset_folder 设置为True，在创建md文件时，才会创建同名的存放文件的文件夹</p>
<p><img src="/2022/other/hexo%E8%AE%BE%E7%BD%AE/image-20221014162708065.png" alt="image-20221014162708065"></p>
<blockquote>
<p>若想hexo能读取到图片，图片必须存放在同名的文件夹下:</p>
<p><img src="/2022/other/hexo%E8%AE%BE%E7%BD%AE/image-20221013xxx1.png" alt="image-20221013130807591"></p>
<p><img src="/2022/other/hexo%E8%AE%BE%E7%BD%AE/image-20221013130xxx1.png" alt="image-20221013130807591"></p>
<p>没有 <code>django设置.assets</code> 目录，图片存放在 <code>django设置</code> 目录下，<img src="/2022/other/hexo%E8%AE%BE%E7%BD%AE/image-20221013xxx1.png" alt="image-20221013130807591"></p>
<p>在hexo编译后依然能显示出图片</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-django设置"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/django/django%E8%AE%BE%E7%BD%AE/"
    >django设置</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/django/django%E8%AE%BE%E7%BD%AE/" class="article-date">
  <time datetime="2022-10-11T09:24:01.000Z" itemprop="datePublished">2022-10-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/django/">django</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Django设置"><a href="#Django设置" class="headerlink" title="Django设置"></a>Django设置</h1><h2 id="apps"><a href="#apps" class="headerlink" title="apps"></a>apps</h2><p>在项目根目录下创建<code>apps</code>目录，把<code>app</code>都放在<code>apps</code>文件夹下</p>
<p><img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221012215758162.png" alt="image-20221012215758162"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">新建apps目录</span></span><br><span class="line">cd apps</span><br><span class="line">python ../manage.py startapp users</span><br></pre></td></tr></table></figure>



<p>将<code>apps</code>目录添加进系统路径中</p>
<p><code>settings.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># Build paths inside the project like this: BASE_DIR / &#x27;subdir&#x27;.</span></span><br><span class="line">BASE_DIR = Path(__file__).resolve().parent.parent</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加导包路径</span></span><br><span class="line">sys.path.insert(<span class="number">0</span>, os.path.join(BASE_DIR, <span class="string">&#x27;apps&#x27;</span>))</span><br><span class="line"></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&quot;django.contrib.admin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.auth&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.contenttypes&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.sessions&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.messages&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.staticfiles&quot;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment"># apps for this project</span></span><br><span class="line">    <span class="string">&quot;users.apps.UsersConfig&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>由于<code>apps</code>已进入系统目录，故<code>&quot;users.apps.UsersConfig&quot;</code>，无需写前面的<code>apps</code>文件夹名</p>
<h2 id="migrations"><a href="#migrations" class="headerlink" title="migrations"></a>migrations</h2><h3 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h3><p>出现了 如下报错</p>
<blockquote>
<p>django.db.migrations.exceptions.InconsistentMigrationHistory: Migration <strong>admin</strong>.0001_initial is applied before its dependency users.0001<br>_initial on database ‘default’.</p>
</blockquote>
<ul>
<li>根据报错的信息，删除数据库中，该表的数据。</li>
</ul>
<p><img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221011172831519.png" alt="image-20221011172831519"></p>
<ul>
<li>鼠标右键点击删除</li>
</ul>
<img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221011172932906.png" alt="image-20221011172932906" style="zoom: 67%;">



<ul>
<li>提交，保存修改到数据库中</li>
</ul>
<img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221011173040345.png" alt="image-20221011173040345" style="zoom:80%;">



<ul>
<li><p>重新进行迁移，但是依然失败了<img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221011173333682.png" alt="image-20221011173333682"></p>
</li>
<li><p>根据报错信息，将表 <code>django_admin_log</code>删除</p>
</li>
<li><p>继续报错，继续删表</p>
<p><img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221013130807591.png" alt="image-20221013130807591"></p>
</li>
<li><p>把数据库中的很多表删除后，重新迁移</p>
</li>
</ul>
<p>若还遇到其他迁移失败的报错，可以尝试如下操作：</p>
<ol>
<li>删除数据库记录该model的记录</li>
</ol>
<p><img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221013161725041.png" alt="image-20221013161725041"></p>
<ol start="2">
<li>删除记录迁移的文件，接着重新迁移；</li>
</ol>
<p><img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221013161452474.png" alt="image-20221013161452474"></p>
<h3 id="密码正确登录不上"><a href="#密码正确登录不上" class="headerlink" title="密码正确登录不上"></a>密码正确登录不上</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_49861340/article/details/123409143">修改管理员密码</a>后，发现还是登录不上，我是按如下方式处理的</p>
<ul>
<li>删除了数据库的所有表，除了sqlite_开头的两个表</li>
</ul>
<p><img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221013183956861.png" alt="image-20221013183956861"></p>
<ul>
<li><p>清理记录迁移的文件</p>
<p><img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221013161452474.png" alt="image-20221013161452474"></p>
</li>
</ul>
<h2 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h2><p>前后端在不同的域名下，需要解决跨域问题</p>
<h2 id="Simple-JWT"><a href="#Simple-JWT" class="headerlink" title="Simple JWT"></a>Simple JWT</h2><p><code>djangorestframework-jwt</code>库，在17年已不再维护，推荐使用</p>
<ul>
<li><p>成功实现，参考的是这篇<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_52385631/article/details/126840331">博客</a>，这篇博客中给出的参考链接也有价值</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/roy8666/article/details/124948426">simple jwt实现登录注册</a> 但是博主没有公开他的 <code>tools.py</code>的代码，可参考他的思路</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43880991/article/details/121347569">simple-jwt</a> </p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42586468/article/details/112524452">抽象用户</a></p>
</li>
</ul>
<h3 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h3><p>提交token时，被Django的CORS给拦截了</p>
<p><code>pip install django-cors-headers</code></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/li944254211/article/details/109510278">Django项目关于跨域cors及解决方案（配置项）</a></p>
<h3 id="Postman"><a href="#Postman" class="headerlink" title="Postman"></a>Postman</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yueguangMaNong/article/details/116797640">这篇文章</a> 关于 postman给 jwt 传递参数写的比较细</p>
<blockquote>
<p>我发现使用 postman，不会涉及到CORS，以及跨域访问的问题；即使没有在Django 的 setting.py中进行任何的设置，Postman也是可以使用</p>
</blockquote>
<p>使用Postman编辑传递的参数，使用网页端的postman失败了</p>
<img src="/2022/django/django%E8%AE%BE%E7%BD%AE/image-20221013220548895.png" alt="image-20221013220548895" style="zoom: 50%;">



<p>下载了桌面版的Postman传参，成功</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;refresh&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xxx&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;access&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xxx&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>使用access作为token，提交给服务器</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-pyVSjs"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/leetcode/pyVSjs/"
    >pyVSjs</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/leetcode/pyVSjs/" class="article-date">
  <time datetime="2022-10-08T02:40:25.000Z" itemprop="datePublished">2022-10-08</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/leetcode/">leetcode</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="pyVSjs"><a href="#pyVSjs" class="headerlink" title="pyVSjs"></a>pyVSjs</h1><h2 id="数组赋值"><a href="#数组赋值" class="headerlink" title="数组赋值"></a>数组赋值</h2><h3 id="一维数组"><a href="#一维数组" class="headerlink" title="一维数组"></a>一维数组</h3><p>python</p>
<p><code>arr = [0] * n;</code></p>
<p>javascript</p>
<p><code>const idx1 = new Array(n).fill(0);</code></p>
<h2 id="判真"><a href="#判真" class="headerlink" title="判真"></a>判真</h2><p>经常会使用 <code>while(xxx)</code> 或者 <code>if(xxx)</code></p>
<p><code>[ ]</code> 空数组</p>
<p>python</p>
<ul>
<li><code>[ ]</code> 转 bool是 False</li>
</ul>
<p>javascript</p>
<ul>
<li><code>[ ]</code> 转bool是 true</li>
</ul>
<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><h3 id="排序基础知识"><a href="#排序基础知识" class="headerlink" title="排序基础知识"></a>排序基础知识</h3><p>javascript</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = [...];</span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>a-b);</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>arr.sort((a,b)=&gt;a-b); </code></p>
<p>从小往大排序</p>
</li>
<li><p><code>arr.sort((a,b)=&gt;b-a); </code></p>
<p>从大往小排序</p>
</li>
</ul>
<p>js的 arr.sort()，与python不同，js有返回值的，但是返回值是原数组的引用，不是深拷贝；</p>
<p>py的arr.sort()，无返回值；</p>
<h3 id="保留下标排序"><a href="#保留下标排序" class="headerlink" title="保留下标排序"></a>保留下标排序</h3><p>希望数组经过排序后，依然保留着原先的下标</p>
<p>python</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="built_in">len</span>(nums1)</span><br><span class="line">idx1 = <span class="built_in">list</span>(<span class="built_in">range</span>(n))</span><br><span class="line">idx1.sort(key=<span class="keyword">lambda</span> x: nums1[x])</span><br></pre></td></tr></table></figure>

<p>javascript</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">idx1.<span class="title function_">sort</span>(<span class="function">(<span class="params">i, j</span>) =&gt;</span> nums1[i] - nums1[j]);</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-DRF"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/django/DRF/"
    >DRF</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/django/DRF/" class="article-date">
  <time datetime="2022-10-06T09:56:39.000Z" itemprop="datePublished">2022-10-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/django/">django</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="DRF"><a href="#DRF" class="headerlink" title="DRF"></a>DRF</h1><h2 id="创建Serializer对象"><a href="#创建Serializer对象" class="headerlink" title="创建Serializer对象"></a>创建Serializer对象</h2><p>除了instance和data参数外，在构造Serializer对象时，还可通过<strong>context</strong>参数额外添加数据，如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DepartmentSerializer(data=&#123;&#x27;name&#x27;: &#x27;运营&#x27;&#125;,context=&#123;&quot;add&quot;:&quot;end&quot;&#125;)</span><br></pre></td></tr></table></figure>

<p><code>DepartmentSerializer</code>序列化器内部使用<code>context</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">validate_name</span>(<span class="params">self, attrs</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;部&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> attrs:</span><br><span class="line">        <span class="keyword">return</span> attrs + <span class="string">&quot;部&quot;</span> + self.context.get(<span class="string">&#x27;add&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> attrs</span><br></pre></td></tr></table></figure>

<p>使用<code>self.context</code>，即可拿到传入的额外参数值</p>
<p>在序列化器定义的<code>create</code>和<code>update</code>函数的返回最后给到<code>save()</code>的返回值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DepartmentSerializer</span>(serializers.Serializer):</span><br><span class="line">	...</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self, instance, validated_data</span>):</span><br><span class="line">        instance.name = validated_data.get(<span class="string">&#x27;name&#x27;</span>, instance.name)</span><br><span class="line">        instance.save()</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;instance&quot;</span></span><br></pre></td></tr></table></figure>



<p><img src="/2022/django/DRF/image-20221006180904208.png"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-mysql"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/django/mysql/"
    >mysql</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/django/mysql/" class="article-date">
  <time datetime="2022-09-26T01:59:50.000Z" itemprop="datePublished">2022-09-26</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/django/">django</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><img src="https://upload-images.jianshu.io/upload_images/23760537-8e4835c41def68c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/format/webp"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--两种情况</span></span><br><span class="line"><span class="comment">--1.新建数据库</span></span><br><span class="line"><span class="keyword">CREATE</span> DATABASE 数据库名称 <span class="keyword">DEFAULT</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"><span class="comment">--2.修改原有数据库</span></span><br><span class="line"><span class="keyword">ALTER</span> DATABASE 数据库名称 <span class="keyword">DEFAULT</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://docs.djangoproject.com/zh-hans/4.0/ref/databases/#mysql-notes">sql django文档</a></p>
<p> <code>utf8_general_ci</code> 字符序。这将导致所有字符串的平等比较以一种 <em>不区分大小写</em> 的方式</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-leetcode入门"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/leetcode/leetcode%E5%85%A5%E9%97%A8/"
    >leetcode入门</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/leetcode/leetcode%E5%85%A5%E9%97%A8/" class="article-date">
  <time datetime="2022-09-24T03:08:15.000Z" itemprop="datePublished">2022-09-24</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/leetcode/">leetcode</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="leetcode"><a href="#leetcode" class="headerlink" title="leetcode"></a>leetcode</h1><h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><ul>
<li><strong>节约空间</strong></li>
</ul>
<p>动态规划经常用到一个记录状态的数组，若始终只用到当前值和前一个值的话，只需使用一个变量存下前一个值即可。无需使用数组存一些以后不会用到的值。</p>
<h2 id="结尾检查"><a href="#结尾检查" class="headerlink" title="结尾检查"></a>结尾检查</h2><h4 id="2414-最长的字母序连续子字符串的长度"><a href="#2414-最长的字母序连续子字符串的长度" class="headerlink" title="2414. 最长的字母序连续子字符串的长度"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/length-of-the-longest-alphabetical-continuous-substring/">2414. 最长的字母序连续子字符串的长度</a></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">longestContinuousSubstring</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        max_len = <span class="number">1</span></span><br><span class="line">        pre = s[<span class="number">0</span>]</span><br><span class="line">        cnt = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> ch <span class="keyword">in</span> s[<span class="number">1</span>::]:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">ord</span>(ch) - <span class="built_in">ord</span>(pre) == <span class="number">1</span>:</span><br><span class="line">                cnt += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                max_len = <span class="built_in">max</span>(max_len,cnt)</span><br><span class="line">                cnt = <span class="number">1</span></span><br><span class="line">            pre = ch</span><br><span class="line">        <span class="comment"># 容易遗漏</span></span><br><span class="line">        max_len = <span class="built_in">max</span>(max_len,cnt)</span><br><span class="line">        <span class="keyword">return</span> max_len</span><br></pre></td></tr></table></figure>

<p>最后在循环外的 <code>max_len = max(max_len,cnt)</code> 检查，很容易遗漏。</p>
<p>在for循环中的检查不会遗漏，但是若恰好在循坏的最后一个阶段得到了最后解，此时循环结束，没有下一个循环状态来更新，所以造成漏解。故若循环有状态更新，一定留意循环结束时的状态是否需要更新。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-token认证"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/django/token%E8%AE%A4%E8%AF%81/"
    >token认证</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/django/token%E8%AE%A4%E8%AF%81/" class="article-date">
  <time datetime="2022-09-23T03:34:49.000Z" itemprop="datePublished">2022-09-23</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/django/">django</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="token"><a href="#token" class="headerlink" title="token"></a>token</h1><p>token适用于前后端分离项目</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> django.core <span class="keyword">import</span> signing</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line">HEADER = &#123;<span class="string">&#x27;typ&#x27;</span>: <span class="string">&#x27;JWP&#x27;</span>, <span class="string">&#x27;alg&#x27;</span>: <span class="string">&#x27;default&#x27;</span>&#125;</span><br><span class="line">KEY = <span class="string">&quot;jie220622-fd%HG56Fsgy-fdsM4&amp;%ghNh44da64&quot;</span></span><br><span class="line">SALT = <span class="string">&quot;jieshenai&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">encrypt</span>(<span class="params">obj</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;加密：signing 加密 and Base64 编码&quot;&quot;&quot;</span></span><br><span class="line">    value = signing.dumps(obj, key=KEY, salt=SALT)</span><br><span class="line">    value = signing.b64_encode(value.encode()).decode()</span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">decrypt</span>(<span class="params">src</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;解密：Base64 解码 and signing 解密&quot;&quot;&quot;</span></span><br><span class="line">    src = signing.b64_decode(src.encode()).decode()</span><br><span class="line">    raw = signing.loads(src, key=KEY, salt=SALT)</span><br><span class="line">    <span class="keyword">return</span> raw</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_token</span>(<span class="params">username</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;生成token信息&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 1. 加密头信息</span></span><br><span class="line">    header = encrypt(HEADER)</span><br><span class="line">    <span class="comment"># 2. 构造Payload(有效期28天)</span></span><br><span class="line">    payload = &#123;<span class="string">&quot;username&quot;</span>: username, <span class="string">&quot;iat&quot;</span>: time.time(),</span><br><span class="line">               <span class="string">&quot;exp&quot;</span>: time.time() + <span class="number">2419200.0</span>&#125;</span><br><span class="line">    payload = encrypt(payload)</span><br><span class="line">    <span class="comment"># 3. MD5 生成签名</span></span><br><span class="line">    md5 = hashlib.md5()</span><br><span class="line">    md5.update((<span class="string">&quot;%s.%s&quot;</span> % (header, payload)).encode())</span><br><span class="line">    signature = md5.hexdigest()</span><br><span class="line">    token = <span class="string">&quot;%s.%s.%s&quot;</span> % (header, payload, signature)</span><br><span class="line">    <span class="keyword">return</span> token</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_payload</span>(<span class="params">token</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;解析 token 获取 payload 数据&quot;&quot;&quot;</span></span><br><span class="line">    payload = <span class="built_in">str</span>(token).split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">    payload = decrypt(payload)</span><br><span class="line">    <span class="keyword">return</span> payload</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_username</span>(<span class="params">token</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;解析 token 获取 username&quot;&quot;&quot;</span></span><br><span class="line">    payload = get_payload(token)</span><br><span class="line">    <span class="keyword">return</span> payload[<span class="string">&#x27;username&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_exp_time</span>(<span class="params">token</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;解析 token 获取过期时间&quot;&quot;&quot;</span></span><br><span class="line">    payload = get_payload(token)</span><br><span class="line">    <span class="keyword">return</span> payload[<span class="string">&#x27;exp&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">check_token</span>(<span class="params">username, token</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;验证 token：检查 username 和 token 是否一致且未过期&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> get_username(token) == username <span class="keyword">and</span> get_exp_time(token) &gt; time.time()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>用户在登录时，服务器端检查用户的账号和密码无误后:</p>
<p>根据用户名创建token，token中设定了token的有效期,  将token返回给用户</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;code&quot;</span>: <span class="number">200</span>, <span class="string">&quot;data&quot;</span>: &#123;<span class="string">&quot;token&quot;</span>: _token, <span class="string">&quot;nickName&quot;</span>: username&#125;&#125;)</span><br></pre></td></tr></table></figure>



<p>用户的浏览器接收到token后，将token存到内存中，以后发起请求时，将token带上。(这一步不是浏览器自动完成，由前端程序员，使用js编码实现)</p>
<p>后端在<code>app/middleware/auth.py</code> 中间件中，对用户的每一次请求进行token验证。</p>
<p>前端的请求会将token, username放置到request.headers中，</p>
<p>使用<code>request.headers.get(&quot;token&quot;)</code> 即可拿到token值。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Vue简洁之道"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/vue/Vue%E7%AE%80%E6%B4%81%E4%B9%8B%E9%81%93/"
    >Vue简洁之道</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/vue/Vue%E7%AE%80%E6%B4%81%E4%B9%8B%E9%81%93/" class="article-date">
  <time datetime="2022-09-22T13:56:49.000Z" itemprop="datePublished">2022-09-22</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/vue/">vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Vue-简化代码"><a href="#Vue-简化代码" class="headerlink" title="Vue 简化代码"></a>Vue 简化代码</h1><p>下述代码是从组件中抽取出来的；</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">fillParagraphText</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> nodes = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">content</span>.<span class="property">childNodes</span>;</span><br><span class="line">    <span class="keyword">let</span> arr = <span class="title function_">paragraphTextArr</span>(nodes);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;paper/fill&quot;</span>, &#123; <span class="attr">paperId</span>: <span class="variable language_">this</span>.<span class="property">paperId</span>, <span class="attr">chse</span>: <span class="variable language_">this</span>.<span class="property">chse</span>, arr &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>我们希望下述函数体内的this指向依然是原来的组件；只需在组件的<code>method</code>中接收上述函数即可；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">        fillParagraphText,</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>因为javascript，this 它是动态的，this 由调用它的对象决定；</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-this"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/javascript/this/"
    >this</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/javascript/this/" class="article-date">
  <time datetime="2022-09-21T01:54:35.000Z" itemprop="datePublished">2022-09-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/javascript/">javascript</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="this"><a href="#this" class="headerlink" title="this"></a>this</h1><h2 id="函数的this"><a href="#函数的this" class="headerlink" title="函数的this"></a>函数的this</h2><h3 id="单个函数的this是什么"><a href="#单个函数的this是什么" class="headerlink" title="单个函数的this是什么"></a>单个函数的this是什么</h3><p>window</p>
<h3 id="嵌套函数的this"><a href="#嵌套函数的this" class="headerlink" title="嵌套函数的this"></a>嵌套函数的this</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">parent</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> name = <span class="string">&quot;parent&quot;</span>;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">son</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> name = <span class="string">&quot;son&quot;</span>;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">son</span>();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="title function_">parent</span>();</span><br></pre></td></tr></table></figure>

<p>输出也是window</p>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="单层函数"><a href="#单层函数" class="headerlink" title="单层函数"></a>单层函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;obj&quot;</span>,</span><br><span class="line">    <span class="attr">sayHi</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure>

<p>obj 这个对象</p>
<h3 id><a href="#" class="headerlink" title></a></h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> parent = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&quot;parent&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">son</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> name = <span class="string">&quot;son&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> <span class="title function_">arrow</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arrow&quot;</span>, <span class="variable language_">this</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">th</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;th&quot;</span>, <span class="variable language_">this</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&quot;re&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                arrow,</span></span><br><span class="line"><span class="language-javascript">                th,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    parent.<span class="title function_">son</span>().<span class="title function_">arrow</span>();</span></span><br><span class="line"><span class="language-javascript">    parent.<span class="title function_">son</span>().<span class="title function_">th</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arrow &#123;name: &#x27;parent&#x27;, son: ƒ&#125;</span><br><span class="line">th &#123;name: &#x27;re&#x27;, arrow: ƒ, th: ƒ&#125;</span><br></pre></td></tr></table></figure>





<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    grandPa = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&quot;gradnPa&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">parent</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// let name = &quot;parent&quot;;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">son</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">let</span> name = <span class="string">&quot;son&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">let</span> <span class="title function_">arrow</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arrow&quot;</span>, <span class="variable language_">this</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">function</span> <span class="title function_">th</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;th&quot;</span>, <span class="variable language_">this</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&quot;re&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    arrow,</span></span><br><span class="line"><span class="language-javascript">                    th,</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    grandPa.<span class="title function_">parent</span>()().<span class="title function_">arrow</span>();</span></span><br><span class="line"><span class="language-javascript">    grandPa.<span class="title function_">parent</span>()().<span class="title function_">th</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>arrow Window {window: Window, self: Window, document: document, name: ‘’, location: Location, …}<br>th {name: ‘re’, arrow: ƒ, th: ƒ}</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-less"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/css/less/"
    >less</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/css/less/" class="article-date">
  <time datetime="2022-09-16T07:19:35.000Z" itemprop="datePublished">2022-09-16</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/css/">css</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="less"><a href="#less" class="headerlink" title="less"></a>less</h1><p>less官网： <a target="_blank" rel="noopener" href="https://lesscss.org/">https://lesscss.org/</a></p>
<p>参考笔记： <a target="_blank" rel="noopener" href="https://brucecai55520.gitee.io/bruceblog/notes/less/less.html">https://brucecai55520.gitee.io/bruceblog/notes/less/less.html</a></p>
<p>vscode安装插件：Easy LESS</p>
<p>浏览器测试</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type=&quot;text/less&quot;&gt;</span><br><span class="line">        <span class="selector-class">.head</span> &#123;</span><br><span class="line">            <span class="attribute">background-color</span>: skyblue;</span><br><span class="line">            <span class="selector-tag">p</span> &#123;</span><br><span class="line">                <span class="attribute">color</span>: red;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">// 写在尾部</span><br><span class="line">&lt;script <span class="attribute">src</span>=&quot;./less-<span class="number">1.3</span>.<span class="number">1</span><span class="selector-class">.min</span><span class="selector-class">.js</span>&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<p>注释</p>
<p>&#x2F;&#x2F; 开头注释，不会被编译到css文件中</p>
<p>&#x2F;**&#x2F;包裹的注释，被编译到css文件中</p>
<h2 id="less-变量"><a href="#less-变量" class="headerlink" title="less 变量"></a>less 变量</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span> <span class="selector-tag">scoped</span> <span class="selector-tag">lang</span>=&quot;<span class="selector-tag">less</span>&quot;&gt;</span><br><span class="line">@<span class="selector-tag">color</span>: <span class="selector-tag">aqua</span>;</span><br><span class="line">@<span class="selector-tag">selector</span>: <span class="selector-tag">p</span>;</span><br><span class="line">@<span class="selector-tag">c</span>: <span class="selector-tag">color</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.head</span> &#123;</span><br><span class="line">  <span class="variable">@&#123;selector&#125;</span> &#123;</span><br><span class="line">    @&#123;c&#125;: @<span class="selector-tag">color</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/<span class="selector-tag">style</span>&gt;</span><br></pre></td></tr></table></figure>

<p><code>@&#123;c&#125;: @color;</code> 展示了属性名和属性值作为变量的写法；</p>
<p>属性名 和 选择器 作为变量需要用<code>&#123;&#125;</code>包裹；</p>
<h3 id="变量的延迟加载"><a href="#变量的延迟加载" class="headerlink" title="变量的延迟加载"></a>变量的延迟加载</h3><p>less 内的变量都是块级作用域， 延迟加载；</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@var:</span> <span class="number">0</span>;</span><br><span class="line"><span class="selector-class">.class</span>&#123;</span><br><span class="line">    <span class="variable">@var:</span> <span class="number">1</span>;</span><br><span class="line">	<span class="selector-class">.brass</span>&#123;</span><br><span class="line">		<span class="variable">@var:</span> <span class="number">2</span>;</span><br><span class="line">		three: @var; <span class="comment">// 3,延迟加载</span></span><br><span class="line">		<span class="variable">@var:</span> <span class="number">3</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	one: @var;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译后的结果是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.class&#123;</span><br><span class="line">	one: 1;</span><br><span class="line">&#125;</span><br><span class="line">.class .brass&#123;</span><br><span class="line">	three: 3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="css嵌套规则"><a href="#css嵌套规则" class="headerlink" title="css嵌套规则"></a>css嵌套规则</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.cls&#123;</span><br><span class="line">	&amp;:hover&#123;</span><br><span class="line">		xxx</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&amp;表示平级；</p>
<p>若不加编译之后是: <code>.cls :hover</code>，就变成了父子关系；</p>
<h2 id="less混合"><a href="#less混合" class="headerlink" title="less混合"></a>less混合</h2><p>混合将一系列属性从一个规则集，引入到另一个规则集；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;head&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span></span><br><span class="line">      文字</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;c2&quot;</span>&gt;</span></span><br><span class="line">      文字</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="普通混合"><a href="#普通混合" class="headerlink" title="普通混合"></a>普通混合</h3><p>.c1 和 .c2 直接使用<code>.func</code>定义好的样式</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.func</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.head</span> &#123;</span><br><span class="line">  <span class="selector-class">.c1</span> &#123;</span><br><span class="line">    <span class="selector-class">.func</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.c2</span> &#123;</span><br><span class="line">    <span class="selector-class">.func</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="带参数的混合"><a href="#带参数的混合" class="headerlink" title="带参数的混合"></a>带参数的混合</h3><p>带参数，指定默认值为 aqua</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.func(@c: aqua) &#123;</span><br><span class="line">  color: @c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>调用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.c1 &#123;</span><br><span class="line">  .func(pink);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.c2 &#123;</span><br><span class="line">  .func();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="命名参数"><a href="#命名参数" class="headerlink" title="命名参数"></a>命名参数</h3><p>在传实参时，指定参数; 用于有多个参数和默认参数值时，指定传的参数；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.func(@c:aqua)</span><br></pre></td></tr></table></figure>



<h3 id="匹配模式"><a href="#匹配模式" class="headerlink" title="匹配模式"></a>匹配模式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;son&quot;&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MyHello&quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped lang=&quot;less&quot;&gt;</span><br><span class="line">.pos(@_, @w, @h) &#123;</span><br><span class="line">  background-color: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pos(L, @w, @h) &#123;</span><br><span class="line">  float: left;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 200px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pos(R, @w, @h) &#123;</span><br><span class="line">  float: right;</span><br><span class="line">  width: @w;</span><br><span class="line">  height: @h;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.container &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  height: 300px;</span><br><span class="line">  background-color: aquamarine;</span><br><span class="line">  .son &#123;</span><br><span class="line">    .pos(R, 200px, 200px);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p><code>.pos</code>，通过在形参里添加标志L，R，从而避免了重新定义混合的问题；</p>
<p><code>.pos(@_, @w, @h)</code> 都能匹配上，可以上公共部分放在其中。</p>
<h3 id="arguments-变量"><a href="#arguments-变量" class="headerlink" title="arguments  变量"></a>arguments  变量</h3><p>实参列表</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.border</span>(<span class="variable">@w</span>,<span class="variable">@sytle</span>,<span class="variable">@c</span>)&#123;</span><br><span class="line">	<span class="attribute">border</span>: <span class="variable">@arguments</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.xxxClass</span> &#123;</span><br><span class="line">	<span class="selector-class">.border</span>(<span class="number">1px</span>,solid,black)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h2><p>在less计算中，双方只要有一方带单位就行了</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.xxxClass</span>&#123;</span><br><span class="line">	<span class="attribute">width</span>: (<span class="number">100</span> + <span class="number">100px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>混合的缺点：在转成css时，很多共有的css属性不能合并，这样导致文件变大；</p>
<p>如下的代码，在混合中实现不了</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>继承不能带参数；</p>
<p>继承性能比混合高，灵活性没有混合强；</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: aqua;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.div</span>:<span class="selector-tag">extend</span>(.parent)&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="父"><a href="#父" class="headerlink" title="父"></a>父</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: aqua;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>错误写法❌</p>
<blockquote>
<p>父后面不能跟()，也不能像继承那样参数</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.parent()&#123;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="继承的两种写法"><a href="#继承的两种写法" class="headerlink" title="继承的两种写法"></a>继承的两种写法</h3><ul>
<li><p>一</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.div</span>:<span class="selector-tag">extend</span>(.parent)&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>二</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.div</span>&#123;</span><br><span class="line">	<span class="selector-tag">&amp;</span>:<span class="selector-tag">extend</span>(.parent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>继承 all</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: aqua;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: skyblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>.parent</code> 指定了鼠标悬浮更换背景色；在继承时，需要在其后加上 <code>all</code>, <code>.parent:hover</code> 才会生效；</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">&amp;</span>:<span class="selector-tag">extend</span>(.parent all);</span><br></pre></td></tr></table></figure>



<p>编译成css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>,</span><br><span class="line"><span class="selector-class">.div</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: aqua;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于.div继承了.parent，故形成了如下代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>,</span><br><span class="line"><span class="selector-class">.div</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: aqua;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="避免编译"><a href="#避免编译" class="headerlink" title="避免编译"></a>避免编译</h2> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2022
        <i class="ri-heart-fill heart_icon"></i> Jie Shen
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Hidden yourself until New God appear!"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">旅行</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://github.com/jieshenai/">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.staticfile.org/mathjax/2.7.7/MathJax.js"></script>
<script src="https://cdn.staticfile.org/mathjax/2.7.7/config/TeX-AMS-MML_HTMLorMML-full.js"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>